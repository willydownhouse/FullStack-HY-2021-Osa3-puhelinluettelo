{"version":3,"sources":["components/Notification.js","components/FilterNames.js","services/PhoneNumbers.js","components/AddNewPersonForm.js","components/PhoneNumberList.js","components/App.js","index.js"],"names":["Notification","message","errorMessage","className","FilterNames","props","filter","setFilter","placeholder","value","type","onChange","e","target","baseUrl","axios","get","then","res","data","newObj","post","id","put","delete","AddNewPersonForm","phoneBook","setPhoneBook","newName","setNewName","phoneNumber","setPhoneNumber","setErrorMessage","setSuccessMessage","onSubmit","preventDefault","map","person","name","includes","phoneService","number","newPhoneNumber","concat","setTimeout","catch","err","console","log","window","confirm","currentObj","find","ob","updatedObj","PhoneNumberList","title","toLowerCase","onClick","item","handleClick","App","useState","successMessage","useEffect","numbers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.18edeb7b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Notification = ({ message, errorMessage }) => {\r\n  if (!message && !errorMessage) return null;\r\n\r\n  if (message) {\r\n    return <div className=\"ui green message\">{message}</div>;\r\n  }\r\n\r\n  return <div className=\"ui error message\">{errorMessage}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from \"react\";\r\n\r\nconst FilterNames = (props) => {\r\n  const { filter, setFilter, placeholder } = props;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"ui input\">\r\n        <input\r\n          value={filter}\r\n          type=\"text\"\r\n          onChange={(e) => setFilter(e.target.value)}\r\n          placeholder={placeholder}\r\n        />\r\n      </div>\r\n      <div className=\"ui hidden divider\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterNames;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((res) => res.data);\r\n};\r\n\r\nconst create = (newObj) => {\r\n  return axios.post(baseUrl, newObj).then((res) => res.data);\r\n};\r\n\r\nconst update = (id, newObj) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObj).then((res) => res.data);\r\n};\r\n\r\nconst deleteOne = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`).then((res) => res.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteOne };\r\n","import React from \"react\";\r\n\r\nimport phoneService from \"../services/PhoneNumbers\";\r\n\r\nconst AddNewPersonForm = (props) => {\r\n  const {\r\n    phoneBook,\r\n    setPhoneBook,\r\n    newName,\r\n    setNewName,\r\n    phoneNumber,\r\n    setPhoneNumber,\r\n    setErrorMessage,\r\n    setSuccessMessage,\r\n  } = props;\r\n\r\n  const onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!phoneBook.map((person) => person.name).includes(newName)) {\r\n      phoneService\r\n        .create({ name: newName, number: phoneNumber })\r\n        .then((newPhoneNumber) => {\r\n          setPhoneBook(phoneBook.concat(newPhoneNumber.data));\r\n          setSuccessMessage(\"New number created succesfully!\");\r\n\r\n          setTimeout(() => {\r\n            setSuccessMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setErrorMessage(\r\n            `Couldnt add ${newName} to the phonebook, please try again!`\r\n          );\r\n\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 5000);\r\n        });\r\n      setNewName(\"\");\r\n      setPhoneNumber(\"\");\r\n      return;\r\n    }\r\n\r\n    if (\r\n      window.confirm(\r\n        `${newName} is already in the phonebook, do you want to replace the old number with the new one`\r\n      )\r\n    ) {\r\n      const currentObj = phoneBook.find((ob) => ob.name === newName);\r\n\r\n      phoneService\r\n        .update(currentObj.id, {\r\n          name: newName,\r\n          number: phoneNumber,\r\n        })\r\n        .then((updatedObj) => {\r\n          setPhoneBook(\r\n            phoneBook.map((ob) =>\r\n              ob.id !== updatedObj.data.id ? ob : updatedObj.data\r\n            )\r\n          );\r\n\r\n          setSuccessMessage(\"Number updated succesfully!\");\r\n\r\n          setTimeout(() => {\r\n            setSuccessMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setErrorMessage(\r\n            `Couldnt update ${newName}s number, please try again!`\r\n          );\r\n\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 5000);\r\n        });\r\n\r\n      setNewName(\"\");\r\n      setPhoneNumber(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className=\"ui form\" onSubmit={onFormSubmit}>\r\n        <div className=\"field\">\r\n          <label>Name</label>\r\n          <input value={newName} onChange={(e) => setNewName(e.target.value)} />\r\n        </div>\r\n        <div className=\"field\">\r\n          <label>Phonenumber</label>\r\n          <input\r\n            value={phoneNumber}\r\n            onChange={(e) => setPhoneNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button className=\"ui button secondary\" type=\"submit\">\r\n            Add\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div className=\"ui hidden divider\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNewPersonForm;\r\n","import React from \"react\";\r\n\r\nimport phoneService from \"../services/PhoneNumbers\";\r\n\r\nconst PhoneNumberList = ({\r\n  title,\r\n  phoneBook,\r\n  filter,\r\n  setPhoneBook,\r\n  setSuccessMessage,\r\n}) => {\r\n  const handleClick = (person) => {\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete ${person.name} from phonebook?`\r\n      )\r\n    ) {\r\n      phoneService.deleteOne(person.id);\r\n      setPhoneBook(phoneBook.filter((item) => item.id !== person.id));\r\n      setSuccessMessage(\"Number deleted succesfully!\");\r\n\r\n      setTimeout(() => {\r\n        setSuccessMessage(null);\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const renderNamesAndNumbers = () => {\r\n    return phoneBook.map((person) => {\r\n      if (person.name.toLowerCase().includes(filter)) {\r\n        return (\r\n          <div className=\"item\" key={person.name}>\r\n            <div className=\"right floated content\">\r\n              <div onClick={() => handleClick(person)} className=\"ui button\">\r\n                Delete\r\n              </div>\r\n            </div>\r\n            <div className=\"content\">\r\n              {person.name} {person.number ? person.number : \"No phonenumber\"}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n      return null;\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <h2 className=\"ui header\">{title}</h2>\r\n      <div className=\"ui middle aligned divided list\">\r\n        {renderNamesAndNumbers()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhoneNumberList;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Notification from \"./Notification\";\r\nimport FilterNames from \"./FilterNames\";\r\nimport AddNewPersonForm from \"./AddNewPersonForm\";\r\nimport PhoneNumberList from \"./PhoneNumberList\";\r\nimport phoneService from \"../services/PhoneNumbers\";\r\n\r\nconst App = () => {\r\n  const [phoneBook, setPhoneBook] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    phoneService\r\n      .getAll()\r\n      .then((numbers) => {\r\n        setPhoneBook(numbers.data);\r\n      })\r\n      .catch((err) => {\r\n        setErrorMessage(err.message);\r\n\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 5000);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"ui container\">\r\n      <h1 className=\"ui header\">Phonebook</h1>\r\n\r\n      <FilterNames\r\n        placeholder=\"Filter names...\"\r\n        filter={filter}\r\n        setFilter={setFilter}\r\n      />\r\n\r\n      <AddNewPersonForm\r\n        phoneBook={phoneBook}\r\n        setPhoneBook={setPhoneBook}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        phoneNumber={phoneNumber}\r\n        setPhoneNumber={setPhoneNumber}\r\n        setErrorMessage={setErrorMessage}\r\n        setSuccessMessage={setSuccessMessage}\r\n      />\r\n      <Notification message={successMessage} errorMessage={errorMessage} />\r\n\r\n      <PhoneNumberList\r\n        title=\"Numbers\"\r\n        filter={filter}\r\n        phoneBook={phoneBook}\r\n        setPhoneBook={setPhoneBook}\r\n        setSuccessMessage={setSuccessMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}